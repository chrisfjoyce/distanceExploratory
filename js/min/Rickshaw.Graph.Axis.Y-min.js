Rickshaw.namespace("Rickshaw.Graph.Axis.Y"),Rickshaw.Graph.Axis.Y=Rickshaw.Class.create({initialize:function(t){this.graph=t.graph,this.orientation=t.orientation||"right",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",this.tickFormat=t.tickFormat||function(t){return t},this.berthRate=.1,t.element?(this.element=t.element,this.vis=d3.select(t.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis;var i=this;this.graph.onUpdate(function(){i.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var i=window.getComputedStyle(this.element.parentNode,null),e=parseInt(i.getPropertyValue("width"),10);if(!t.auto)var s=parseInt(i.getPropertyValue("height"),10)}this.width=t.width||e||this.graph.width*this.berthRate,this.height=t.height||s||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var h=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*h+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(t){var i=d3.svg.axis().scale(t).orient(this.orientation);if(i.tickFormat(this.tickFormat),this.tickValues&&i.tickValues(this.tickValues),"left"==this.orientation)var e=this.height*this.berthRate,s="translate("+this.width+", "+e+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",s).call(i.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),i},_drawGrid:function(t){var i=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(i)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}});