Rickshaw.namespace("Rickshaw.Fixtures.Time.Local"),Rickshaw.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(e){return 10*parseInt(e.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(e){return e.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(e){return e.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(e){return e.getMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(e){return e.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(e){return e.getMilliseconds()+"ms"}}],this.unit=function(e){return this.units.filter(function(t){return e==t.name}).shift()},this.formatDate=function(e){return d3.time.format("%b %e")(e)},this.formatTime=function(e){return e.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(e,t){var n,r,o;if("day"==t.name){var a=new Date(1e3*(e+t.seconds-1)),s=new Date(0);return s.setMilliseconds(0),s.setSeconds(0),s.setMinutes(0),s.setHours(0),s.setDate(a.getDate()),s.setMonth(a.getMonth()),s.setFullYear(a.getFullYear()),s.getTime()/1e3}if("month"==t.name){if(n=new Date(1e3*e),r=new Date(n.getFullYear(),n.getMonth()).getTime()/1e3,r==e)return e;o=n.getFullYear();var i=n.getMonth();return 11==i?(i=0,o+=1):i+=1,new Date(o,i).getTime()/1e3}return"year"==t.name?(n=new Date(1e3*e),r=new Date(n.getUTCFullYear(),0).getTime()/1e3,r==e?e:(o=n.getFullYear()+1,new Date(o,0).getTime()/1e3)):Math.ceil(e/t.seconds)*t.seconds}};