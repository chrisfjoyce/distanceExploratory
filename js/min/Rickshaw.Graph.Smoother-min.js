Rickshaw.namespace("Rickshaw.Graph.Smoother"),Rickshaw.Graph.Smoother=Rickshaw.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this;this.element&&$(function(){$(t.element).slider({min:1,max:100,slide:function(a,e){t.setScale(e.value),t.graph.update()}})})},setScale:function(t){if(1>t)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var a=[];return t.forEach(function(t){for(var e=[];t.length;){var i=0,n=0,h=t.splice(0,this.aggregationScale);h.forEach(function(t){i+=t.x/h.length,n+=t.y/h.length}),e.push({x:i,y:n})}a.push(e)}.bind(this)),a}});