Rickshaw.namespace("Rickshaw.Graph.Renderer"),Rickshaw.Graph.Renderer=Rickshaw.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(t){var s=t||this.graph.stackedData||this.graph.stackData(),i=s[0][0];if(void 0===i)return{x:[null,null],y:[null,null]};var e=i.x,a=i.x,h=i.y+i.y0,r=i.y+i.y0;return s.forEach(function(t){t.forEach(function(t){if(null!=t.y){var s=t.y+t.y0;h>s&&(h=s),s>r&&(r=s)}}),t.length&&(t[0].x<e&&(e=t[0].x),t[t.length-1].x>a&&(a=t[t.length-1].x))}),e-=(a-e)*this.padding.left,a+=(a-e)*this.padding.right,h="auto"===this.graph.min?h:this.graph.min||0,r=void 0===this.graph.max?r:this.graph.max,("auto"===this.graph.min||0>h)&&(h-=(r-h)*this.padding.bottom),void 0===this.graph.max&&(r+=(r-h)*this.padding.top),{x:[e,a],y:[h,r]}},render:function(t){t=t||{};var s=this.graph,i=t.series||s.series,e=t.vis||s.vis;e.selectAll("*").remove();var a=i.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),h=e.selectAll("path.path").data(a).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var r=e.selectAll("path.stroke").data(a).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var n=0;i.forEach(function(t){t.disabled||(t.path=h[0][n],this.stroke&&(t.stroke=r[0][n]),this._styleSeries(t),n++)},this)},_styleSeries:function(t){var s=this.fill?t.color:"none",i=this.stroke?t.color:"none";t.path.setAttribute("fill",s),t.path.setAttribute("stroke",i),t.path.setAttribute("stroke-width",this.strokeWidth),t.className&&d3.select(t.path).classed(t.className,!0),t.className&&this.stroke&&d3.select(t.stroke).classed(t.className,!0)},configure:function(t){t=t||{},Rickshaw.keys(this.defaults()).forEach(function(s){return t.hasOwnProperty(s)?void("object"==typeof this.defaults()[s]?Rickshaw.keys(this.defaults()[s]).forEach(function(i){this[s][i]=void 0!==t[s][i]?t[s][i]:void 0!==this[s][i]?this[s][i]:this.defaults()[s][i]},this):this[s]=void 0!==t[s]?t[s]:void 0!==this[s]?this[s]:void 0!==this.graph[s]?this.graph[s]:this.defaults()[s]):void(this[s]=this[s]||this.graph[s]||this.defaults()[s])},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}});