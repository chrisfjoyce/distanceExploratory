Rickshaw.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),Rickshaw.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var i=this,r={},s=null,n=e.disabledColor||function(e){return d3.interpolateRgb(e,d3.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(e){e.element.addEventListener("mouseover",function(a){s||(s=e,i.legend.lines.forEach(function(s){if(e!==s)r[s.series.name]=r[s.series.name]||s.series.color,s.series.color=n(s.series.color);else if(i.graph.renderer.unstack&&(s.series.renderer?s.series.renderer.unstack:!0)){var a=i.graph.series.indexOf(s.series);s.originalIndex=a;var t=i.graph.series.splice(a,1)[0];i.graph.series.push(t)}}),i.graph.update())},!1),e.element.addEventListener("mouseout",function(n){s&&(s=null,i.legend.lines.forEach(function(s){if(e===s&&s.hasOwnProperty("originalIndex")){var n=i.graph.series.pop();i.graph.series.splice(s.originalIndex,0,n),delete s.originalIndex}r[s.series.name]&&(s.series.color=r[s.series.name])}),i.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(e){i.addHighlightEvents(e)})};