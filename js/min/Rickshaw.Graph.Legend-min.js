Rickshaw.namespace("Rickshaw.Graph.Legend"),Rickshaw.Graph.Legend=Rickshaw.Class.create({className:"rickshaw_legend",initialize:function(e){this.element=e.element,this.graph=e.graph,this.naturalOrder=e.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var e=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var s=this.graph.series.map(function(e){return e});this.naturalOrder||(s=s.reverse()),s.forEach(function(s){e.addLine(s)})},addLine:function(e){var s=document.createElement("li");s.className="line",e.disabled&&(s.className+=" disabled"),e.className&&d3.select(s).classed(e.className,!0);var i=document.createElement("div");i.className="swatch",i.style.backgroundColor=e.color,s.appendChild(i);var t=document.createElement("span");t.className="label",t.innerHTML='<font color="black">'+e.name+"</font>",s.appendChild(t),this.list.appendChild(s),s.series=e,e.noLegend&&(s.style.display="none");var a={element:s,series:e};return this.shelving&&(this.shelving.addAnchor(a),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(a),this.lines.push(a),s}});