Rickshaw.namespace("Rickshaw.Graph.Axis.Time"),Rickshaw.Graph.Axis.Time=function(e){var t=this;this.graph=e.graph,this.elements=[],this.ticksTreatment=e.ticksTreatment||"plain",this.fixedTimeUnit=e.timeUnit;var i=e.timeFixture||new Rickshaw.Fixtures.Time;this.appropriateTimeUnit=function(){var e,t=i.units,a=this.graph.x.domain(),n=a[1]-a[0];return t.forEach(function(t){Math.floor(n/t.seconds)>=2&&(e=e||t)}),e||i.units[i.units.length-1]},this.tickOffsets=function(){for(var e=this.graph.x.domain(),t=this.fixedTimeUnit||this.appropriateTimeUnit(),a=Math.ceil((e[1]-e[0])/t.seconds),n=e[0],s=[],r=0;a>r;r++){var h=i.ceil(n,t);n=h+t.seconds/2,s.push({value:h,unit:t})}return s},this.render=function(){this.elements.forEach(function(e){e.parentNode.removeChild(e)}),this.elements=[];var e=this.tickOffsets();e.forEach(function(e){if(!(t.graph.x(e.value)>t.graph.x.range()[1])){var i=document.createElement("div");i.style.left=t.graph.x(e.value)+"px",i.classList.add("x_tick"),i.classList.add(t.ticksTreatment);var a=document.createElement("div");a.classList.add("title"),a.innerHTML=e.unit.formatter(new Date(1e3*e.value)),i.appendChild(a),t.graph.element.appendChild(i),t.elements.push(i)}})},this.graph.onUpdate(function(){t.render()})};